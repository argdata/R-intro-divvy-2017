---
title: "Importing and inspecting the Divvy station data"
author: "Peter Carbonetto"
output: html_document
---

<!-- Define defaults shared by all workflowr files. -->
```{r read-chunk, include=FALSE, cache=FALSE}
knitr::read_chunk("chunks.R")
```

<!-- Update knitr chunk options -->
```{r knitr-opts-chunk, include=FALSE}
```

<!-- Insert the date the file was last updated -->
```{r last-updated, echo=FALSE, results='asis'}
```

<!-- Insert the code version (Git commit SHA1) if Git repository
 exists and R package git2r is installed -->
```{r code-version, echo=FALSE, results='asis'}
```
<br>

## About this file

This file is either a webpage generated from an R Markdown document,
or the original R Markdown file itself.

[R Markdown](http://r4ds.had.co.nz/r-markdown.html) combines
[Markdown](http://daringfireball.net/projects/markdown), a popular,
easy-to-read plain text formatting syntax, with "chunks" of R code. R
Markdown notebooks can be easily rendered into various formats (e.g.,
PDF, HTML) for creating sharable and reproducible
[narratives](https://www.oreilly.com/ideas/the-state-of-jupyter) of
your data analyses.

There are many benefits to documenting your data analyses in R
Markdown---we will not have time to explore all the benefits here.
<br>

## How to use this file

We will use this R Markdown document *interactively.*

Although you can easily generate all the output and figures with a
single command from the
[rmarkdown package](https://cran.r-project.org/package=rmarkdown), in
this workshop we will walk through the data analyses by typing or
copying & pasting the lines of code into the R console.
<br>

## About the Divvy station data

After you launch R or RStudio, double-check that your working
directory is set to the "analysis" directory. For example, on my
MacBook Air the current working directory is

```{r, eval=TRUE}
getwd()
```

In the "data" directory, three should be three CSV files containing
station data:

```{r, eval=TRUE}
Sys.glob("../data/*Stations*")
```

We will use only the Q4 data since it contains the most up-to-date
information about the Divvy stations.

## Loading the Divvy station data

The R environment is where all *variables* and *functions* are stored
and accessed.

Immediately after launching R, your R environment will be empty.

```{r, eval=FALSE}
ls()
```

If it is not, see the [setup](setup.html) instructions for how to
change the working directory.

We will create a new variable called `station.data` by running
function `read.csv`, and assigning the result of `read.csv` to
`station.data`:

```{r, eval=FALSE}
station.data <- read.csv(file = "../data/Divvy_Stations_2016_Q4.csv",
                         stringsAsFactors = FALSE)
```

What does this function do, and what are the function arguments "file"
and "stringsAsFactors" for? We can quickly find the answers to these
questions by accessibing the R help documents for this function:

```{r, eval=FALSE}
help(read.table)
```

What kind of variable is `station.data`? We can check this:

```{r, eval=FALSE}
class(read.table)
```

So it is a "data frame", which is R's data structure for tables.

Peek at the first few rows of the table:

```{r, eval=FALSE}
head(station.data)
```

See the "README.txt" file in the data directory for more information
about the columns in the table.

Peek at the last few rows of the table:

```{r, eval=FALSE}
tail(station.data)
```

Use `summary` to quickly generate an overview of the data (this is a
general function that works for most types of variables):

```{r, eval=FALSE}
summary(station.data)
```

How many stations are there?

```{r, eval=FALSE}
nrow(station.data)
ncol(station.data)
```

We can inspect individual columns and rows:

```{r, eval=FALSE}
station.data[100,]
summary(station.data[["dpcapacity"]])
```
