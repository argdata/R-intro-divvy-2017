---
title: "Setup for Divvy data analysis"
author: "Peter Carbonetto"
output: html_document
---

<!-- The file analysis/chunks.R contains chunks that define default settings
shared across the workflowr files. -->
```{r read-chunk, include=FALSE, cache=FALSE}
knitr::read_chunk("chunks.R")
```

<!-- Update knitr chunk options -->
```{r knitr-opts-chunk, include=FALSE}
```

<!-- Insert the date the file was last updated -->
```{r last-updated, echo=FALSE, results="asis"}
```

<!-- Insert the code version (Git commit SHA1) if Git repository exists and R
 package git2r is installed -->
```{r code-version, echo=FALSE, results="asis"}
```

## Setup instructions

```{r, echo=FALSE, results="hide", eval=TRUE}
library(data.table)
library(ggplot2)
```

To work through the lessons on your own computer, please first follow
these setup instructions.

1. Install [R](http://cran.r-project.org) and, optionally,
[Rstudio](https://www.rstudio.com/products/rstudio). *Note:* If you do
not use RStudio, you will need to have additional software installed
for X Windows graphics (e.g., [XQuartz](http://xquartz.org) on
Mac). Without this, you will not be able to create plots.

2. Download or clone the
[git repository](https://github.com/rcc-uchicago/R-intro-divvy) to your
computer. Click [here](https://github.com/rcc-uchicago/R-intro-divvy/archive/master.zip) to download a ZIP file containing all the files.

3. Download the Divvy data files into the "data" directory, and
prepare the data files for analysis. The **easiest way** to this is to
download the prepared data files
[here](https://uchicago.box.com/v/divvy), and move the files into the
"data" directory. The file on Box is about 82 MB, so it may take a few
minutes to download. The **more complicated way** to do this is to
download the data directly from the Divvy website. I have provided a
script `code/retrieve_divvy_data.sh` to do this automatically, and
will move the files to the expected location, and prepare the files
for the analysis in R. This shows how the data were obtained from the
[original source](https://www.divvybikes.com/system-data).

3. After completing Step 3, check that you have all the necessary data
files in the "data" directory. For example, on my MacBook Air, I have:

```{r}
ls.files()
```

4. Launch R or RStudio.

5. Make sure your working directory in R or RStudio is set to the
"analysis" directory of the git repository on your computer. For
example, on my MacBook Air, the current working directory in R is

```{r}
getwd()
```

I have provided a script `code/retrieve_divvy_data.sh` that
will automatically retrieve the data files and move them to the
expected location. Alternatively, you can view this script and follow
the steps by hand. After completing this step, these files should be
in the data directory:

```
Divvy_Stations_2016_Q1Q2.csv
Divvy_Stations_2016_Q3.csv
Divvy_Stations_2016_Q4.csv
Divvy_Trips_2016_04.csv
Divvy_Trips_2016_05.csv
Divvy_Trips_2016_06.csv
Divvy_Trips_2016_Q1.csv
Divvy_Trips_2016_Q3.csv
Divvy_Trips_2016_Q4.csv
```

Once you have completed these steps, you are ready to move on to the
lessons.
<br>

## Session information

This is my version of R and the packages that I used to generate
the webpages from the R Markdown documents.

```{r session-info}
```
